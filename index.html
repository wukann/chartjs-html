<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>ChartjsSample</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="./node_modules/jquery/dist/jquery.js"></script>
  <script src="./node_modules/chart.js/dist/Chart.bundle.js"></script>
  <script src="./node_modules/moment/moment.js"></script>
</head>

<body>
  <canvas id="myChart" width="400" height="200"></canvas>
  <script>
    'use strict';

    var rowData;
    $.get("./data.json").then((data) => {
      rowData = data.map((a) => {
        return {
          x: moment(parseInt(a.internalDate, 10)).toDate(),
          y: parseInt(a.snippet, 10)
        };
      });
    }).then(() => {
      var ctx = document.getElementById("myChart");
      var chart = new Chart(ctx, {
        type: 'line',
        data: {
          datasets: [{
            label: 'wu',
            data: rowData
          }]
        },
        options: {
          responsive: true,
          title: {
            display: true,
            text: "魔導杯・魔轟三鉄傑"
          },
          scales: {
            xAxes: [{
              type: 'time',
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Date'
              }//,
              // time: {
              //   // unit: TimeUnit.day
              // }
            }]
          }
        }
      });
    });

  </script>
</body>

</html>